
application: doca-cloud
version: 1.0.0

# CA = customer address (VM IP address)
# PA = provider address (host IP address)

# If running on hostname, run the app on the pci/vf/vf_mac
device_cfg:
- hostname: c-237-150-60-061
  pci: 0000:08:00.0
  vf: pf0vf0
  vf_mac: f6:e8:c2:77:e5:ae
- hostname: c-237-150-60-062
  pci: 0000:08:00.0
  vf: pf0vf0
  vf_mac: 1a:2c:7d:14:72:ae

# tx - match on ca, encap with pa/vni
# rx - match on pa/vni/ca, decap
geneve_cfg:
- hostname: c-237-150-60-061
  tunnels:
    ca: 60.0.0.2
    pa: 100.0.0.3
    vni: 100
    next_hop: 94:6d:ae:af:3f:cc
- hostname: c-237-150-60-062
  tunnels:
    ca: 60.0.0.1
    pa: 100.0.0.1
    vni: 100
    next_hop: 94:6d:ae:a9:b0:b0

# tx - match on dst_pa, encr with encr_spi/encr_key
# rx - match on decr_spi/dst_pa, decr with decr_key
ipsec_cfg:
- hostname: c-237-150-60-061
  tunnels:
  - dst_pa: 100.0.0.3
    encr_spi: 0x1234
    encr_key: 0x0123456789abcdef
    decr_spi: 0x5678
    decr_key: 0x1111111111111111
- hostname: c-237-150-60-062
  tunnels:
  - dst_pa: 100.0.0.1
    encr_spi: 0x5678
    encr_key: 0x1111111111111111
    decr_spi: 0x1234
    decr_key: 0x0123456789abcdef

# tx - match on dst_pa, encap with vlan
# rx - match on *, decap
vlan_cfg:
- hostname: c-237-150-60-061
  tunnels:
  - dst_pa: 100.0.0.3
    vlan: 100
- hostname: c-237-150-60-062
  tunnels:
  - dst_pa: 100.0.0.1
    vlan: 101

